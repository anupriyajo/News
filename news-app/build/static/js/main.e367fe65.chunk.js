(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n(319)},307:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){},317:function(e,t,n){},318:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);n(137);var a=n(1),r=n.n(a),s=n(131),i=n.n(s),c=(n(307),n(51)),o=n(43),u=n(134),l=n(135),p=n(71),h=n.n(p),d="REQUEST_NEWS",m="RECEIVE_NEWS",f="REQUEST_POP_NEWS",v="RECEIVE_POP_NEWS",g="SAVE_RATING",w="SAVE_RATING_SUCCESS";var b=Object(o.c)({allNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object.assign({},e,{isFetching:!0});case m:return Object.assign({},e,{isFetching:!1,items:t.newsItems,lastUpdated:t.receivedAt});default:return e}},popNews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object.assign({},e,{isFetching:!0});case v:return Object.assign({},e,{isFetching:!1,items:t.newsItems,lastUpdated:t.receivedAt});default:return e}},ratingReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object.assign({},e,{isSaving:!0,data:{}});case w:return Object.assign({},e,{isSaving:!1,data:t.data});default:return e}}});Object(l.createLogger)();var E=n(22),j=n(23),O=n(25),N=n(24),I=n(26),y=(n(314),n(315),n(57)),C=(n(316),function(e){function t(e,n){var a;return Object(E.a)(this,t),(a=Object(O.a)(this,Object(N.a)(t).call(this,e))).state={rating:0},a.handleChange=a.handleChange.bind(Object(y.a)(Object(y.a)(a))),a}return Object(I.a)(t,e),Object(j.a)(t,[{key:"handleChange",value:function(e){this.setState({rating:e});var t=this.props.itemId;this.props.saveRating({newsId:t,rating:e})}},{key:"render",value:function(){var e=this,t=this.props.itemId;return r.a.createElement("div",{className:"rating-wrapper"},"Please rate:",r.a.createElement("select",{name:"item-".concat(t),onChange:function(t){return e.handleChange(t.target.value)}},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5")))}}]),t}(a.Component));var S=Object(c.b)(function(e){return{isSaving:e.ratingReducer.isSaving||!0}},{saveRating:function(e){var t=e.newsId,n=e.rating;return function(e){return e({type:g}),h()("http://192.168.0.4:8080/api/news/".concat(t,"/rating?rating=").concat(n),{method:"PUT",headers:{"Content-Type":"application/json",userId:"1"}}).then(function(e){return e.json()}).then(function(t){return e(function(e){return console.log("Rating saved:",e),{type:w,data:e}}(t))}).catch(function(t){return e(function(e){console.error("saveRatingFailure Error:",e)}(t))})}}})(C),k=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props.news;return r.a.createElement("div",{className:"list-item-wrapper"},r.a.createElement("img",{src:e.mediaContent}),r.a.createElement("a",{href:e.link,target:"_blank"},r.a.createElement("h3",null,e.title)),r.a.createElement("h6",null,e.author," (published on: ",e.publishedDate,")"),r.a.createElement("div",{className:"list-item"},e.description),r.a.createElement(S,{itemId:e.newsItemId}))}}]),t}(a.Component),P=(n(317),function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.newsType,n=e.newsItems,a=r.a.createElement("div",null);return n&&(a=n.map(function(e){return r.a.createElement(k,{key:"item-".concat(e.newsItemId),news:e})})),r.a.createElement("div",{className:"list-wrapper"},r.a.createElement("h1",null,t),a)}}]),t}(a.Component)),R=(n(318),function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"nav-bar"},"News Today"))}}]),t}(r.a.Component)),U=function(e){function t(e){return Object(E.a)(this,t),Object(O.a)(this,Object(N.a)(t).call(this,e))}return Object(I.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPopNews(),this.props.fetchNews()}},{key:"render",value:function(){var e=this.props,t=(e.newsItems,e.isFetching,e.lastUpdated,this.props);t.popNewsItems,t.isFetchingPopNews,t.lastUpdatedPopNews;return console.log(this.props),r.a.createElement("div",{className:"App"},r.a.createElement(R,null),r.a.createElement(P,{newsType:"Today's top 5",newsItems:this.props.popNewsItems}),r.a.createElement(P,{newsType:"More...",newsItems:this.props.newsItems}))}}]),t}(a.Component);var F,T=Object(c.b)(function(e){var t=e.allNews,n=e.popNews,a=t.isFetching||!0;return{newsItems:t.items||[],isFetching:a,lastUpdated:t.lastUpdated,isFetchingPopNews:n.isFetching||!0,popNewsItems:n.items||[],lastUpdatedPopNews:n.lastUpdated}},{fetchNews:function(){return function(e){return e({type:d}),h()("http://192.168.0.4:8080/api/news").then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:m,newsItems:e,receivedAt:Date.now()}}(t))})}},fetchPopNews:function(){return function(e){return e({type:f}),h()("http://192.168.0.4:8080/api/news/popular").then(function(e){return e.json()}).then(function(t){return e(function(e){return{type:v,newsItems:e,receivedAt:Date.now()}}(t))})}}})(U),_=Object(o.d)(b,F,Object(o.a)(u.a));i.a.render(r.a.createElement(c.a,{store:_},r.a.createElement(T,null)),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.e367fe65.chunk.js.map